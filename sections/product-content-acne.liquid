<div class="acne-content" style="background-color: {{ section.settings.bg }};">
<div class="page-width">
<div id="content-inner-{{ section.id }}" 
  class="content-inner row middle-md 
  {% if section.settings.radio == "right" %} reverse {% endif %}" 
  style="background-color: {{ section.settings.bg }}">
    <div class="content-image-outer col-xs-12 col-sm-6 col-md-{{ section.settings.select_img }} lazy-container {% if section.settings.radio == "right" %}col-md-offset-1{% endif %}">
        <div class="overflow">
            <div class="image-reveal reveal-scale-child">
                <div class="acne-image-inner">
                    {%- assign img_url = section.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                    <img id="content-image-{{ section.id }}"
                        class="content-image lazyload hide-xs"
                        src="{{ section.settings.image | img_url: '50x' }}"
                        data-src="{{ img_url }}"
                        data-scroll-target="#content-inner-{{ section.id }}"
                        data-widths="[180, 360, 540, 720, 900, 1080, 1296]"
                        data-aspectratio="{{ section.settings.image.aspect_ratio }}"
                        data-sizes="auto"
                        data-image
                        data-parent-fit="cover"
                        data-scroll data-scroll-speed="-0.5"
                        alt="{{ section.settings.image.alt | escape }}">
                    {%- assign img_url2 = section.settings.image_mob | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                    <img id="content-image-{{ section.id }}"
                        class="content-image lazyload hide-sm"
                        src="{{ section.settings.image_mob | img_url: '50x' }}"
                        data-src="{{ img_url2 }}"
                        data-scroll-target="#content-inner-{{ section.id }}" 
                        data-widths="[180, 360, 540, 720, 900, 1080, 1296]"
                        data-aspectratio="{{ section.settings.image_mob.aspect_ratio }}"
                        data-sizes="auto"
                        data-image
                        data-parent-fit="cover"
                        data-scroll data-scroll-speed="-0.5"
                        alt="{{ section.settings.image_mob.alt | escape }}">
                </div>
            </div>
        </div>
    </div>
    <div class="content-text-outer col-xs-12 col-sm-6 col-md-{% if section.settings.select_text == "5" %}4{% elsif section.settings.select_text == "6" %}5{% else %}6{% endif %} {% if section.settings.radio == "left" %}col-md-offset-1{% endif %}">
        <div class="content-text-inner lazy-container mobile-h-padding">
                {% include 'heading', head: section.settings.heading, subhead: section.settings.subtitle %}
                {% if section.settings.text %}{{ section.settings.text }}{% endif %}
                {%- if section.settings.button_label != blank and section.settings.button_link != blank -%}
                    {%- capture ariaLabel -%}
                        {{- section.settings.button_label -}}
                        {%- if section.settings.button_link.type == 'frontpage_link' -%}
                            :
                            {{ 'homepage.general.title' | t -}}
                        {%- elsif section.settings.button_link.type == 'catalog_link' -%}
                            :
                            {{ 'collections.catalog.title' | t -}}
                        {%- elsif section.settings.button_link.object.title -%}
                            :
                            {{ section.settings.button_link.object.title }}
                        {%- endif -%}
                    {%- endcapture -%}

                    <a href="{{ section.settings.button_link }}" class="btn btn-full-small reveal-up-child" aria-label="{{ ariaLabel }}">
                        {{ section.settings.button_label | escape }}
                    </a>
                {%- endif -%}
        </div>
    </div>
</div>
</div>
</div>

{% schema %}
{
    "name": "Content with Image",
    "class": "content-with-image",
    "tag": "section",
    "settings": [
      {
        "type": "header",
        "content": "Image Settings"
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color",
        "id": "bg",
        "label": "Background",
        "default": "#ffe7e0"
      },
      {
        "type": "select",
        "id": "select_img",
        "label": "Column Width",
        "options": [
          {
            "value": "5",
            "label": "Five Columns"
          },
          {
            "value": "6",
            "label": "Six Columns"
          },
          {
            "value": "7",
            "label": "Seven Columns"
          }
        ],
        "default": "7"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Section Image"
      },
      {
        "type": "image_picker",
        "id": "image_mob",
        "label": "Section Image"
      },
      {
          "type": "radio",
          "id": "radio",
          "label": "Image Alignment",
          "default": "right",
          "options": [
              {
                  "value": "left",
                  "label": "Left Align"
              },
              {
                "value": "right",
                "label": "Right Align"
              }
          ]
      },
      {
        "type": "header",
        "content": "Text Settings"
      },
      {
        "type": "select",
        "id": "select_text",
        "label": "Column Width",
        "options": [
          {
            "value": "5",
            "label": "Five Columns"
          },
          {
            "value": "6",
            "label": "Six Columns"
          },
          {
            "value": "7",
            "label": "Seven Columns"
          }
        ],
        "default": "5"
      },
      {
        "type": "text",
        "id": "subtitle",
        "label": "Subheading",
        "default": "Story Behind"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "I really wanted to make a difference because I went through the same trauma."
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>I struggled for 10 years. Acne, black heads, craters, hairy face, I've seen it all. I know what you're going through. The Underneath Acne Kit helped solve all that for me.</p>"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
      }
    ]
  }
{% endschema %}
