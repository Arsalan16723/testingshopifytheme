
{% for block in section.blocks %}
{% if block.type == 'content' %}
<div class="content-section-outer" style="background-color: {{ block.settings.bg }}">
    {% if block.settings.radio_page == "boxed" %}
    <div class="page-width">
    {% endif %}
    <div id="content-inner-{{ section.id }}" 
      class="content-inner row middle-md 
      {% if block.settings.radio == "right" %} reverse {% endif %}">
        <div class="content-image-outer col-xs-12 col-sm-6 col-md-{{ block.settings.select_img }} lazy-container {% if block.settings.radio == "right" %}col-md-offset-1{% endif %} {% if block.settings.image_contrast == true %}image-contrast{% endif %}">
            <div class="overflow">
                <div class="image-reveal reveal-scale-child">
                    <div class="content-image-inner">
                        {%- assign img_url = block.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                        <img id="content-image-{{ section.id }}"
                            class="content-image lazyload"
                            src="{{ block.settings.image | img_url: '50x' }}"
                            data-src="{{ img_url }}"
                            data-scroll-target="#content-inner-{{ section.id }}"
                            data-widths="[180, 360, 540, 720, 900, 1080, 1296]"
                            data-aspectratio="{{ block.settings.image.aspect_ratio }}"
                            data-sizes="auto"
                            data-image 
                            data-parent-fit="cover"
                            data-scroll data-scroll-speed="-0.5"
                            alt="{{ block.settings.image.alt | escape }}">
                    </div>
                </div>
            </div>
        </div>
        <div class="content-text-outer col-xs-12 col-sm-6 col-md-{% if block.settings.select_text == "5" %}4{% elsif block.settings.select_text == "6" %}5{% else %}6{% endif %} {% if block.settings.radio == "left" %}col-md-offset-1{% endif %}">
            <div class="content-text-inner lazy-container mobile-h-padding" {% if block.settings.text_color_check == true %}style="color: {{ block.settings.text_color }}"{% endif %}>
                    {% include 'heading', head: block.settings.heading, subhead: block.settings.subtitle %}
                    {% if block.settings.text %}{{ block.settings.text }}{% endif %}
                    {%- if block.settings.button_label != blank and block.settings.button_link != blank -%}
                        {%- capture ariaLabel -%}
                            {{- block.settings.button_label -}}
                            {%- if block.settings.button_link.type == 'frontpage_link' -%}
                                :
                                {{ 'homepage.general.title' | t -}}
                            {%- elsif block.settings.button_link.type == 'catalog_link' -%}
                                :
                                {{ 'collections.catalog.title' | t -}}
                            {%- elsif block.settings.button_link.object.title -%}
                                :
                                {{ block.settings.button_link.object.title }}
                            {%- endif -%}
                        {%- endcapture -%}
    
                        <a href="{{ block.settings.button_link }}" class="btn btn-full-small reveal-up-child {% if block.settings.btn_style == true %}btn-light{% endif %}" aria-label="{{ ariaLabel }}">
                            {{ block.settings.button_label | escape }}
                        </a>
                    {%- endif -%}
            </div>
        </div>
    </div>
    {% if block.settings.radio_page == "boxed" %}
    </div>
    {% endif %}
</div>
{% elsif block.type == 'space' %}
<div class="space-divider-{{ block.id }}"></div>
<style>
    @media only screen and (max-width:749px){
        .space-divider-{{ block.id }}{
            padding-top: {{ block.settings.spacing_m }}px;
        }
    }
    @media only screen and (min-width:750px){
        .space-divider-{{ block.id }}{
            padding-top: {{ block.settings.spacing_t }}px;
        }
    }
    @media only screen and (min-width:1025px){
        .space-divider-{{ block.id }}{
            padding-top: {{ block.settings.spacing }}px;
        }
    }
</style>
{% endif %}
{% endfor %}


    {% schema %}
    {
        "name": "Product details",
        "class": "content-with-image",
        "tag": "section",
        "settings": [
        ],
        "blocks": [
          {
            "type": "content",
            "name": "Content With Image",
            "settings": [
            {
                "type": "header",
                "content": "Image Settings"
              },
              {
                "type": "radio",
                "id": "radio_page",
                "label": "Section Width",
                "default": "full",
                "options": [
                    {
                        "value": "full",
                        "label": "Full Width"
                    },
                    {
                      "value": "boxed",
                      "label": "Boxed"
                    }
                ]
              },
              {
                "type": "header",
                "content": "Colors"
              },
              {
                "type": "checkbox",
                "id": "text_color_check",
                "label": "Use Custom Colors",
                "default": false
              },
              {
                "type": "checkbox",
                "id": "btn_style",
                "label": "Light Button",
                "default": false
              },
              {
                "type": "checkbox",
                "id": "image_contrast",
                "label": "Image Contrast On Mobile",
                "default": false
              },
              {
                "type": "color",
                "id": "bg",
                "label": "Background",
                "default": "#fff"
              },
              {
                "type": "color",
                "id": "text_color",
                "label": "Text Color",
                "default": "#fff"
              },
              {
                "type": "select",
                "id": "select_img",
                "label": "Column Width",
                "options": [
                  {
                    "value": "5",
                    "label": "Five Columns"
                  },
                  {
                    "value": "6",
                    "label": "Six Columns"
                  },
                  {
                    "value": "7",
                    "label": "Seven Columns"
                  }
                ],
                "default": "7"
              },
              {
                "type": "image_picker",
                "id": "image",
                "label": "Section Image"
              },
              {
                  "type": "radio",
                  "id": "radio",
                  "label": "Image Alignment",
                  "default": "left",
                  "options": [
                      {
                          "value": "left",
                          "label": "Left Align"
                      },
                      {
                        "value": "right",
                        "label": "Right Align"
                      }
                  ]
              },
              {
                "type": "header",
                "content": "Text Settings"
              },
              {
                "type": "select",
                "id": "select_text",
                "label": "Column Width",
                "options": [
                  {
                    "value": "5",
                    "label": "Five Columns"
                  },
                  {
                    "value": "6",
                    "label": "Six Columns"
                  },
                  {
                    "value": "7",
                    "label": "Seven Columns"
                  }
                ],
                "default": "5"
              },
              {
                "type": "text",
                "id": "subtitle",
                "label": "Subheading",
                "default": "Subheading Text"
              },
              {
                "type": "text",
                "id": "heading",
                "label": "Heading",
                "default": "Heading Text"
              },
              {
                "type": "richtext",
                "id": "text",
                "label": "Text",
                "default": "<p>Use overlay text to give your customers insight into your brand. Select imagery and text that relates to your style and story.</p>"
              },
              {
                "type": "text",
                "id": "button_label",
                "label": "Button label"
              },
              {
                "type": "url",
                "id": "button_link",
                "label": "Button link"
              }
            ]
          },
          {
            "type": "space",
            "name": "Space Block",
            "settings": [
            {
                "type": "header",
                "content": "Desktop"
            },
            {
                "type": "range",
                "id": "spacing",
                "label": "Section Spacing",
                "unit": "px",
                "min": 0, 
                "max": 300,
                "step": 5,
                "default": 100
            },
            {
                "type": "header",
                "content": "Tab"
            },
            {
                "type": "range",
                "id": "spacing_t",
                "label": "Section Spacing",
                "unit": "px",
                "min": 0,
                "max": 300,
                "step": 5,
                "default": 100
            },
            {
                "type": "header",
                "content": "Mobile"
            },
            {
                "type": "range",
                "id": "spacing_m",
                "label": "Section Spacing",
                "unit": "px",
                "min": 0,
                "max": 300,
                "step": 5,
                "default": 100
            }
            ]
          }
        ]
      }
{% endschema %}
    