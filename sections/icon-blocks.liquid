<div class="page-width">
<div class="row mobile-h-padding ">

    <div class="col-xs-12 center-xs">
        {% include 'heading', head: section.settings.heading, subhead: section.settings.subtitle %}
    </div>
    {% for block in section.blocks %}
    <div class="col-md-3 col-xs-6 icon-block text-center" {{ block.shopify_attributes }}>
        {% if block.seetings.link != blank %}
        <a href="{{ block.seetings.link }}">
        {% endif %}
        <img
            class="lazyload lazy"     
            src="{{ block.settings.icon_image | img_url: '120x' }}" 
            data-srcset="{{ block.settings.icon_image | img_url: '400x' }} 240w, {{ block.settings.icon_image | img_url: '400x' }} 500w"
            data-aspectratio="{{ block.settings.icon_image.aspect_ratio }}"
            data-sizes="auto"
            alt="{{ block.settings.icon_image.alt | escape }}"
        />
        <h2 class="h4">{{ block.settings.block-text | escape }}</h2>
        <p>{{ block.settings.block-para | escape }}</p>
        {% if block.seetings.link != blank %}
        </a>
        {% endif %}
    </div>

    {% endfor %}
    {% if section.settings.button_link != blank %}
    <a href="{{ section.settings.button_link }}" class="btn btn-full-small reveal-up-child" aria-label="{{ ariaLabel }}">
        {{ section.settings.button_label | escape }}
    </a>
    {% endif %}
    </div>
</div>

{% schema %}
{
    "name": "Icon section",
    "class": "icon-section",
    "tag": "section",
    "max_blocks": 6,
    "settings": [
        {
            "type": "select",
            "id": "column",
            "label": "Total blocks",
            "options": [
                {
                    "value": "4",
                    "label": "Four blocks"
                },
                {
                    "value": "5",
                    "label": "Five blocks"
                },
                {
                    "value": "6",
                    "label": "Six blocks"
                }
            ]
        },
        {
            "type": "text",
            "id": "subtitle",
            "label": "Subheading",
            "default": "Subheading Text"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Heading Text"
        },
        {
            "type": "text",
            "id": "button_label",
            "label": "Button label"
        },
        {
            "type": "url",
            "id": "button_link",
            "label": "Button link"
        }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Icon block",
        "settings": [
            {
                "type": "header",
                "content": "Icon"
            },
            {
                "type": "image_picker",
                "id": "icon_image",
                "label": "Icon upload"
            },
            {
                "type": "text",
                "id": "block-text",
                "label": "Icon text",
                "default": "Lorum Ipsum"
            },
            {
                "type": "text",
                "id": "block-para",
                "label": "Icon Para Test",
                "default": "Lorum Ipsum"
            },
            {
                "type": "url",
                "id": "link",
                "label": "Page Url"
            }
        ]
      }
    ],
    "presets": [
        {
            "name": "Icon Section",
            "category": "Image"
        }
    ]
}
{% endschema %}
